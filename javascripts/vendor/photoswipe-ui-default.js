/*! PhotoSwipe Default UI - 4.0.0 - 2014-12-11
* http://photoswipe.com
* Copyright (c) 2014 Dmitry Semenov; */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,o,l,i,s,r,a,u,p,c,d,m,f,w,h,v,_=this,b=!1,C=!0,g=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],indexIndicatorSep:" / "},I=function(e){if(e.preventDefault(),f)return!0;e=e||window.event;for(var t,n,o=e.target||e.srcElement,l=o.className,i=0;i<M.length;i++)t=M[i],t.onTap&&l.indexOf("pswp__"+t.name)>-1&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),f=!0,w=setTimeout(function(){f=!1},30))},E=function(){return!e.likelyTouchDevice||e.options.mouseUsed||screen.width>1200},F=function(){return g=!g,g?(t.removeClass(a,"pswp__share-modal--fade-in"),setTimeout(function(){g&&t[(g?"add":"remove")+"Class"](a,"pswp__share-modal--hidden")},300)):(t[(g?"add":"remove")+"Class"](a,"pswp__share-modal--hidden"),setTimeout(function(){g||t.addClass(a,"pswp__share-modal--fade-in")},30)),g||K(),!1},x=function(e){e=e||window.event;var t=e.target||e.srcElement;return t.href?t.hasAttribute("download")?!0:(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),g||F(),!1):!1},K=function(){for(var t,n,o="",l=0;l<e.options.shareButtons.length;l++)t=e.options.shareButtons[l],n=t.url.replace("{{url}}",encodeURIComponent(window.location.href)).replace("{{image_url}}",encodeURIComponent(e.currItem.src||"")).replace("{{raw_image_url}}",e.currItem.src||"").replace("{{text}}",encodeURIComponent(e.currItem.title||"")),o+='<a href="'+n+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>";a.children[0].innerHTML=o,a.children[0].onclick=x},k=function(n){for(var o=0;o<e.options.closeElClasses.length;o++)if(t.hasClass(n,"pswp__"+e.options.closeElClasses[o]))return!0},L=0,S=function(){clearTimeout(v),L=0,p&&_.setIdle(!1)},z=function(t){t=t?t:window.event;var n=t.relatedTarget||t.toElement;n&&"HTML"!==n.nodeName||(clearTimeout(v),v=setTimeout(function(){_.setIdle(!0)},e.options.timeToIdleOutside))},D=function(e){d!==e&&(t[(e?"remove":"add")+"Class"](c,"pswp__preloader--active"),d=e)},M=[{name:"caption",option:"captionEl",onInit:function(e){l=e}},{name:"share-modal",option:"shareEl",onInit:function(e){a=e},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(e){r=e},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){c=e}}];_.init=function(){t.extend(e.options,T,!0),o=e.scrollWrap.children[1];var s=e.listen;s("onVerticalDrag",function(e){C&&.95>e?_.hideControls():!C&&e>=.95&&_.showControls()});var u;s("onPinchClose",function(e){C&&.9>e?(_.hideControls(),u=!0):u&&!C&&e>.9&&_.showControls()}),s("zoomGestureEnded",function(){u=!1,u&&!C&&_.showControls()}),s("beforeChange",_.update),s("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(e.currItem.doubleTapZoom,t,333)}),e.options.timeToIdle&&s("mouseUsed",function(){t.bind(document,"mousemove",S),t.bind(document,"mouseout",z),h=setInterval(function(){L++,2===L&&_.setIdle(!0)},e.options.timeToIdle/2)}),s("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.className&&e.type.indexOf("mouse")>-1&&(o.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),s("bindEvents",function(){t.bind(o,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",_.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",_.onMouseOver)}),s("unbindEvents",function(){g||F(),h&&clearInterval(h),t.unbind(document,"mouseout",z),t.unbind(document,"mousemove",S),t.unbind(o,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",_.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",_.onMouseOver),n&&(t.unbind(document,n.eventK,_.updateFullscreen),n.isFullscreen()&&(T.hideAnimationDuration=0,n.exit()),n=null)}),s("destroy",function(){e.options.captionEl&&(i&&o.removeChild(i),t.removeClass(l,"pswp__caption--empty")),a&&(a.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),_.setIdle(!1)}),e.options.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),s("initialZoomIn",function(){e.options.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),s("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),s("parseVerticalMargin",function(n){var s=n.vGap;if(E()){var r=e.options.barsSize;if(e.options.captionEl&&"auto"===r.bottom)if(i||(i=t.createEl("pswp__caption pswp__caption--fake"),i.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(i,l),t.addClass(o,"pswp__ui--fit")),e.options.addCaptionHTMLFn(n,i,!0)){var a=i.clientHeight;s.bottom=parseInt(a,10)||44}else s.bottom=r.top;else s.bottom=r.bottom;s.top=r.top}else s.top=s.bottom=0});var p,c,d,f=function(n){for(var o=n.length,l=0;o>l;l++){p=n[l],c=p.className;for(var i=0;i<M.length;i++)d=M[i],c.indexOf("pswp__"+d.name)>-1&&(e.options[d.option]?(t.removeClass(p,"pswp__element--disabled"),d.onInit&&d.onInit(p)):t.addClass(p,"pswp__element--disabled"))}};f(o.children),f(o.children[0].children),e.options.shareEl&&r&&a&&(g=!0),e.options.fullscreenEl&&(n||(n=_.getFullscreenAPI()),n?(t.bind(document,n.eventK,_.updateFullscreen),_.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),e.options.preloaderEl&&(D(!0),s("beforeChange",function(){clearTimeout(m),m=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&D(!1):D(!0)},e.options.loadingIndicatorDelay)}),s("imageLoadComplete",function(t,n){e.currItem===n&&D(!0)}))},_.setIdle=function(e){p=e,t[(e?"add":"remove")+"Class"](o,"pswp__ui--idle")},_.update=function(){C&&e.currItem?(_.updateIndexIndicator(),e.options.captionEl&&(e.options.addCaptionHTMLFn(e.currItem,l),e.currItem.title?t.removeClass(l,"pswp__caption--empty"):t.addClass(l,"pswp__caption--empty")),b=!0):b=!1},_.updateFullscreen=function(){t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},_.updateIndexIndicator=function(){e.options.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+e.options.indexIndicatorSep+e.options.getNumItemsFn())},_.onGlobalTap=function(n){n.preventDefault(),n=n||window.event;var o=n.target||n.srcElement;if(!f)if(n.detail&&"mouse"===n.detail.pointerType)k(o)&&e.close(),t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?e.close():e.toggleDesktopZoom(n.detail.releasePoint));else if(e.options.tapToToggleControls&&(C?_.hideControls():_.showControls()),e.options.tapToClose&&(t.hasClass(o,"pswp__img")||k(o)))return void e.close()},_.onMouseOver=function(e){e=e||window.event;var n=e.target||e.srcElement;k(n)?t.addClass(o,"pswp__ui--over-close"):t.removeClass(o,"pswp__ui--over-close")},_.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),C=!1},_.showControls=function(){C=!0,b||_.update(),t.removeClass(o,"pswp__ui--hidden")},_.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},_.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return u=e.options.closeOnScroll,e.options.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return e.options.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e});